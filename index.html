<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Undangan Pernikahan Yunus & Dewi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Great+Vibes&display=swap"
	  rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.0/dist/vanilla-tilt.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  
  <script>
(function() {
  var numberOfFlowers = 24; // jumlah bunga
  var flowerImg = 'https://www.gstatic.com/delight/confetti/cherry/kp2.gif'; // contoh kelopak sakura, boleh pakai png bunga custom

  function createFlower() {
    var flower = document.createElement('img');
    flower.src = flowerImg;
    flower.className = 'falling-flower';
    flower.style.left = Math.random() * 100 + 'vw';
    flower.style.opacity = (Math.random() * 0.6 + 0.4).toFixed(2);
    flower.style.width = (Math.random() * 30 + 20) + 'px';
    flower.style.animationDelay = Math.random() * 5 + 's';
    document.body.appendChild(flower);
    setTimeout(function() {
      document.body.removeChild(flower);
    }, 15000); // hapus setelah selesai jatuh
  }

  setInterval(createFlower, 600);

  var style = document.createElement('style');
  style.innerHTML = `
    .falling-flower {
      position: fixed;
      top: -30px;
      z-index: 99;
      animation: flower-fall 12s linear forwards;
      pointer-events: none;
    }
    @keyframes flower-fall {
      to {
        transform: translateY(110vh) rotate(360deg);
      }
    }
  `;
  document.head.appendChild(style);
})();
</script>

  <body>

    <!-- Landing Section with Particles -->
	<section id="hero" class="hero">
      <div id="particles-js"></div>
      <div class="hero-content">
		<h1 class="hero-title" data-aos="fade-up">The Wedding Of</h1>
		<h2 class="hero-names" data-aos="fade-up">Yunus & Dewi</h2>
        <button
          class="scroll-btn"
          data-aos="fade-up"
          data-aos-delay="400"
          onclick="scrollToContent()"
        >
          Lihat Undangan
        </button>
      </div>
    </section>
	
	<script>
	window.addEventListener('DOMContentLoaded', function () {
  // Ambil nama dari query parameter `to`
  const urlParams = new URLSearchParams(window.location.search);
  const guestName = urlParams.get('to');
  if (guestName) {
    document.getElementById('guestGreeting').innerHTML =
      `Assalamu'alaikum dan salam hangat, <b>${guestName.replace(/\+/g, ' ')}</b>.<br>
      Dengan segala hormat, kami mengundang Anda untuk hadir di momen bahagia kami.`;
  }
});
</script>

	<div id="main-content-background">
	<section id="welcome" class="section">
		<div class="great-vibes-message" data-aos="fade-up">
		<p id="guestGreeting">
		"Assalamu'alaikum warahmatullahi wabarakatuh. Dengan hormat, kami mengundang kehadiran Bapak/Ibu/Saudara/i pada acara pernikahan kami. Semoga kehadiran Anda menjadi berkah dan kebahagiaan bagi kami berdua."
		</p>
		</div>
		
		<div class="ayat-message" data-aos="fade-up" data-aos-delay="200">
		<p class="great-vibes-message" style="margin-top:1.5rem;font-size:2rem;font-style:italic;color:var(--primary-color)">
		â€œDan di antara tanda-tanda (kebesaran)-Nya ialah bahwa Dia menciptakan pasangan-pasangan untukmu dari (jenis) dirimu sendiri agar kamu merasa tenteram kepadanya. Dia menjadikan di antaramu rasa cinta dan kasih sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir."<br>
		<span style="font-size:1rem;">(QS. Ar-Rum: 21)</span>
		</p>
		</div>
	</section>
	</div>

    <!-- Enhanced Couple Section -->
    <div id="main-content-background">
	
	<!-- Kalimat pembuka -->
	<section id="opening" class="section">
    <p<p class="opening-message" data-aos="fade-up">
    Dengan mengucap syukur ke hadirat Allah SWT atas limpahan karunia dan rahmat-Nya, kami bermaksud menyampaikan kabar bahagia
    kepada Bapak/Ibu/Saudara/i sekalian.
    Dalam kesempatan yang penuh berkah ini, kami mengundang kehadiran Anda untuk menyaksikan moment bersejarah pernikahan putra
    dan putri kami.
	</p>
	</section>
  
	<section id="couple" class="section">
      <div class="couple-container">
        <div class="person" data-aos="fade-right">
          <img
            src="https://raw.githubusercontent.com/yunusdewimenikah/undangan-pernikahan-yunus-dewi/main/assets/images/avatar-yunus.png"
            alt="Yunus"
            loading="lazy"
          />
          <h3>Muhammad Yunus, S.T.</h3>
          <p>Putra Pertama dari</p>
          <p>Bpk. Ambo Tuo &</p>
          <p>Ibu Muliati</p>
        </div>
        <div class="person" data-aos="fade-left">
          <img
            src="https://raw.githubusercontent.com/yunusdewimenikah/undangan-pernikahan-yunus-dewi/main/assets/images/avatar-dewi.png"
            alt="Dewi"
            loading="lazy"
          />
          <h3>Dewi Fatimah Ihsary, S.KM.</h3>
          <p>Putri Pertama dari</p>
          <p>Bpk. Ihsan, S.Pd. &</p>
          <p>Ibu Dra. Hj. Ernashari Akil, M.Si.</p>
        </div>
      </div>
    </section>
	</div>

    <!-- Enhanced Countdown -->
    <div id="main-content-background">
	<section id="countdown" class="section">
      <h2 data-aos="fade-up">Menuju Hari Bahagia</h2>
      <div class="countdown-container" data-aos="fade-up">
        <div class="countdown-item">
          <span id="days">00</span>
          <span>Hari</span>
        </div>
        <div class="countdown-item">
          <span id="hours">00</span>
          <span>Jam</span>
        </div>
        <div class="countdown-item">
          <span id="minutes">00</span>
          <span>Menit</span>
        </div>
        <div class="countdown-item">
          <span id="seconds">00</span>
          <span>Detik</span>
        </div>
      </div>
    </section>
	</div>

    <!-- Enhanced Event Details -->
<div id="main-content-background">
<section id="event" class="section">
  <h2 data-aos="fade-up">Detail Acara</h2>
  <div class="event-container">
    <div class="event-card" data-aos="fade-up">
      <h3>Akad Nikah</h3>
      <p>Jum'at, 05 Desember 2025</p>
      <p>10:00 WITA - Selesai</p>
      <p>BTN Danau Tempe Permai (BTN Ta'e), Jln. Reformasi Timur Blok BB 32</p>
    </div>
    <div class="event-card" data-aos="fade-up" data-aos-delay="200">
      <h3>Resepsi Mempelai Pria</h3>
      <p>Minggu, 07 Desember 2025</p>
      <p>11:00 WITA - Selesai</p>
      <p>Jln. Mattuppuang No. 079, Pajalele, Kec. Tanasitolo, Kab. Wajo</p>
    </div>
    <div class="event-card" data-aos="fade-up" data-aos-delay="400">
      <h3>Resepsi Mempelai Wanita</h3>
      <p>Minggu, 07 Desember 2025</p>
      <p>13:00 WITA - Selesai</p>
      <p>Sallo Hotel Sengkang</p>
      <p>Jln. H. Bahe, Tempe, Kec. Tempe, Kab. Wajo</p>
    </div>
  </div>

  <div class="map-container" data-aos="fade-up">
    <h3>Lokasi Akad Nikah</h3>
    <iframe
      src="https://www.google.com/maps?q=-4.110256,120.026750&hl=es;z=14&output=embed"
      width="100%"
      height="300"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
	<button onclick="openMap(-4.110256,120.026750)">Buka Lokasi Akad Nikah</button>
  </div>
  <div class="map-container" data-aos="fade-up" style="margin-top: 20px;">
    <h3>Lokasi Resepsi Mempelai Pria</h3>
    <iframe
      src="https://www.google.com/maps?q=-4.088386,120.021875&hl=es;z=14&output=embed"
      width="100%"
      height="300"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
	<button onclick="openMap(-4.088386,120.021875)">Buka Lokasi Resepsi Mempelai Pria</button>
  </div>
  <div class="map-container" data-aos="fade-up" style="margin-top: 20px;">
    <h3>Lokasi Resepsi Mempelai Wanita</h3>
    <iframe
      src="https://www.google.com/maps?q=-4.12332,120.02612&hl=es;z=14&output=embed"
      width="100%"
      height="300"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
	<button onclick="openMap(-4.12332,120.02612)">Buka Lokasi Resepsi Mempelai Wanita</button>
  </div>
</section>
</div>

    <!-- Enhanced Wishes Section -->
	<div id="main-content-background">
	<section id="wishes" class="section">
		<h2 data-aos="fade-up">Ucapan & Doa</h2>
		<div class="wishes-container">
			<div class="wishes-form" data-aos="fade-up">
				<form id="wishForm">
					<textarea
						name="message"
						placeholder="Tulis ucapan dan doa Anda di sini..."
						required
					></textarea>
					<input type="text" name="name" placeholder="Nama Anda" required />
					<button type="submit">Kirim Ucapan</button>
				</form>
			</div>
			<div id="comments-list" class="wishes-list" data-aos="fade-up"></div>
		</div>
	</section>
	</div>

    <!-- Enhanced Gift Section -->
    <div id="main-content-background">
	<section id="gift" class="section">
      <h2 data-aos="fade-up">Jejak Kasih dan Cinta</h2>
		<p class="gift-poetry" data-aos="fade-up">
			"Cinta yang dirangkai dalam doa,<br>
			bersemi di antara suka dan duka.<br>
			Bila berkenan berbagi kebahagiaan,<br>
			restu serta doa adalah anugerah terindah,<br>
			dan titipan berkah menjadi tanda kasih yang tulus dari para sahabat semua."
		</p>
	  <div class="gift-container" data-aos="fade-up">
        <div class="gift-card">
          <h3>Rekening Bank</h3>
          <div class="gift-content">
            <p>Bank Mandiri</p>
            <p id="rekening-yunus">1620006922284</p>
            <p>a.n. Muhammad Yunus</p>
          </div>
          <button onclick="copyRekening('1620006922284')">Salin Nomor Rekening</button>
        </div>
		<div class="gift-card">
          <h3>Rekening Bank</h3>
          <div class="gift-content">
            <p>Bank Syariah Indonesia</p>
            <p id="rekening-dewi">7211630013</p>
            <p>a.n. Dewi Fatimah Ihsary</p>
          </div>
          <button onclick="copyRekening('7211630013')">Salin Nomor Rekening</button>
        </div>
      </div>
    </section>
	</div>

    <!-- Enhanced Closing -->
    <div id="main-content-background">
	<section id="closing" class="section">
      <div class="closing-content" data-aos="fade-up">
        <h2>Terima Kasih</h2>
        <p>
          "Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila
          Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu kepada
          kami."
        </p>
        <h3>Yunus & Dewi</h3>
      </div>
    </section>
	</div>

    <!-- Enhanced Music Player -->
    <div id="music-player">
      <button id="toggle-music" onclick="toggleMusic()">
        <span class="music-icon">â™«</span>
      </button>
      <audio id="background-music" loop>
        <source src="https://raw.githubusercontent.com/yunusdewimenikah/undangan-pernikahan-yunus-dewi/main/assets/music/Terbuang%20Dalam%20Waktu%20-%20Barasuara%20(Peaceful%20Piano).mp3" type="audio/mpeg" />
      </audio>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="main.js"></script>
	
	<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAIRH0XNSBZHF2_-QqVLaqHbdfOLVJgC3Y",
    authDomain: "pernikahan-yunus-dewi.firebaseapp.com",
    projectId: "pernikahan-yunus-dewi",
    storageBucket: "pernikahan-yunus-dewi.appspot.com",
    messagingSenderId: "135055523527",
    appId: "1:135055523527:web:a27e6be616ae85ac445d7a",
    measurementId: "G-74XQPXI91"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Submit komentar ke Firestore
  document.getElementById('wishForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const name = form.name.value.trim();
    const message = form.message.value.trim();
    if (!name || !message) return;

    await addDoc(collection(db, "comments"), {
      name,
      message,
      createdAt: serverTimestamp()
    });

    form.reset();
  });

  // Render komentar realtime dari Firestore
  const commentsList = document.getElementById('comments-list');
  const q = query(collection(db, "comments"), orderBy("createdAt", "desc"));
  onSnapshot(q, (snapshot) => {
    commentsList.innerHTML = '';
    snapshot.forEach(doc => {
      const data = doc.data();
      commentsList.innerHTML += `
        <div class="comment-item">
          <p><strong>${data.name}</strong> (${data.createdAt?.toDate().toLocaleString() || ''}):</p>
          <p>${data.message}</p>
        </div>
      `;
    });
  });
  
</script>

  </body>
</html>
